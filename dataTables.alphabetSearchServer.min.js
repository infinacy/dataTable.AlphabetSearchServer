!function(a){function e(e,t,r){if(r.json&&r.json.alphabetSearchData){t.empty(),""!==r.oLanguage.alphabetSearch.infoDisplay&&a('<span class="alphabet-info-display"></span>').html(r.oLanguage.alphabetSearch.infoDisplay).appendTo(t);var n=e.column(r.alphabetSearch.column,{search:"applied"}).data(),l=r.json.alphabetSearchData,h=a("<ul/>");a("<a/>").attr("href","javascript:;").data("letter","").data("match-count",n.length).addClass(r.alphabetSearch.letter?"":"active").html("<span>"+r.oLanguage.alphabetSearch.infoAll+"</span>").wrap("<li/>").parent().appendTo(h);for(var o=0;o<r.oLanguage.alphabetSearch.alphabet.length;o++){var i=r.oLanguage.alphabetSearch.alphabet[o];a("<a/>").attr("href","javascript:;").data("letter",i).data("match-count",l[i]||0).addClass((l[i]?"":"empty")+(r.alphabetSearch.letter===i?" active":"")).html("<span>"+i+"</span>").wrap("<li/>").parent().appendTo(h)}h.appendTo(t),a('<div class="alphabet-info"></div>').appendTo(t)}}a.fn.dataTable.Api.register("alphabetSearchServer()",function(a){return this.iterator("table",function(e){if(e.alphabetSearch.letter=a,void 0===e.ajax.data)e.ajax.data={alphabetSearchLetter:a};else if("function"==typeof e.ajax.data){var t=e.ajax.data;e.ajax.data=function(e,r){var n=t(e,r);return n&&(e=n),e.alphabetSearchLetter=a,e}}else"object"==typeof e.ajax.data&&(e.ajax.data.alphabetSearchLetter=a)}),this}),a.fn.dataTable.Api.register("alphabetSearchServer.recalc()",function(){return this.iterator("table",function(t){e(new a.fn.dataTable.Api(t),a("div.alphabet",this.table().container()),t)}),this}),a.fn.dataTable.AlphabetSearchServer=function(t){var r=new a.fn.dataTable.Api(t),n=a('<div class="alphabet"/>');if(t.oLanguage.alphabetSearch=a.extend({alphabet:"#ABCDEFGHIJKLMNOPQRSTUVWXYZ",infoDisplay:"Display:",infoAll:"All"},t.oLanguage.alphabetSearch?t.oLanguage.alphabetSearch:{}),t.oLanguage.alphabetSearch.alphabet.toUpperCase(),t.alphabetSearch=a.extend({column:0},a.isPlainObject(t.oInit.alphabetSearch)?t.oInit.alphabetSearch:{},{letter:""}),void 0===t.ajax.data)t.ajax.data={alphabetSearchColumn:t.alphabetSearch.column};else if("function"==typeof t.ajax.data){var l=t.ajax.data;t.ajax.data=function(a,e){var r=l(a,e);return r&&(a=r),a.alphabetSearchColumn=t.alphabetSearch.column,a}}else"object"==typeof t.ajax.data&&(t.ajax.data.alphabetSearchColumn=t.alphabetSearch.column);t.hasOwnProperty("aaSortingFixed")&&"object"==typeof t.aaSortingFixed?a.isArray(t.aaSortingFixed)?t.aaSortingFixed.length&&!a.isArray(t.aaSortingFixed[0])?t.aaSortingFixed=[[t.alphabetSearch.column,"asc"],t.aaSortingFixed]:t.aaSortingFixed.unshift([t.alphabetSearch.column,"asc"]):(t.aaSortingFixed.hasOwnProperty("pre")||(t.aaSortingFixed.pre=[]),t.aaSortingFixed.pre.length&&!a.isArray(t.aaSortingFixed.pre[0])?t.aaSortingFixed.pre=[[t.alphabetSearch.column,"asc"],t.aaSortingFixed.pre]:t.aaSortingFixed.pre.unshift([t.alphabetSearch.column,"asc"])):t.aaSortingFixed=[t.alphabetSearch.column,"asc"],e(r,n,t),n.on("click","a",function(e){e.preventDefault(),n.find(".active").removeClass("active"),a(this).addClass("active"),r.alphabetSearchServer(a(this).data("letter")).draw()}),n.on("mouseenter","a",function(){var e=a(this),t=e.position(),r=a(".alphabet-info",n);r.html(e.data("match-count")),r.css({opacity:1,left:t.left+Math.round((e.outerWidth()-r.outerWidth())/2),top:a(this).position().top+e.outerHeight()})}).on("mouseleave","a",function(){n.find("div.alphabet-info").css("opacity",0)}),r.on("draw.dt.dtAlphabetSearch",function(e,t){var r=new a.fn.dataTable.Api(t);r.alphabetSearchServer.recalc();var n=r.columns().nodes().length,l=r.rows({page:"current"}).nodes(),h=null;if(r.column(t.alphabetSearch.column,{page:"current"}).data().each(function(e,t){if(e){var r=e.toString().replace(/<.*?>/g,"").charAt(0).toUpperCase();h!==r&&(a(l).eq(t).before('<tr class="alphabet-group"><td colspan="'+n+'">'+r+"</td></tr>"),h=r)}}),!l.length&&t.alphabetSearch){var o=t.alphabetSearch.letter;a(r.table().body()).prepend('<tr class="alphabet-group"><td colspan="'+n+'">'+o+"</td></tr>")}}),r.on("destroy.dt.dtAlphabetSearch",function(e,t){new a.fn.dataTable.Api(t).off(".dtAlphabetSearch")}),this.node=function(){return n}},a.fn.DataTable.AlphabetSearchServer=a.fn.dataTable.AlphabetSearchServer,a.fn.dataTable.ext.feature.push({fnInit:function(e){return new a.fn.dataTable.AlphabetSearchServer(e).node()},cFeature:"S"})}(jQuery);